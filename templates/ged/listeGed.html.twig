{% extends 'base.html.twig' %}

{% block title %}Liste des uploads{% endblock %}

{% block body %}
{% for message in app.flashes('notice') %}
   <div class="flash-notice alert alert-dismissible alert-warning">
      {{ message }}
   </div>
   {% endfor %}
   <h1>{{ controller_name }}</h1>
   <table class="table table-hover">
      <thead>
         <tr>
            <th scope="col">Id</th>
            <th scope="col">Type</th>
            <th scope="col">Nom</th>
            <th scope="col">Créé le</th>
            <th scope="col">Actions</th>
         </tr>
      </thead>
      <tbody>
         {% for item in listeAcces %}
         <tr class="table">
            <th scope="row">{{ item.documentId.id }}</th>
            <td>{{ item.documentId.typeId.type }}</td>
            <td>{{ item.documentId.nom }}</td>
            <td>{{ item.documentId.createdAt|date("d-m-y") }}</td>
            <td> 
               <a href="/deleteGed/{{ item.documentId.id }}">
               <i class="bi bi-trash"></i>
               </a>
               <a href="/upload/{{ item.documentId.chemin }}" target="blank">
               <i class="bi bi-download"></i>
               </a>
            </td>
         </tr>
         {% endfor %}
      </tbody>
   </table>
{% endblock %}